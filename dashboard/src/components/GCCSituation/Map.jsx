import React from 'react';
import { ResponsiveChoropleth } from '@nivo/geo';
export const Map = ({ data, choice }) => {
	let info = [
		{
			id: 'SAU',
			value: data[0][choice]
		},
		{
			id: 'QAT',
			value: data[1][choice]
		},
		{
			id: 'ARE',
			value: data[2][choice]
		},
		{
			id: 'KWT',
			value: data[3][choice]
		},
		{
			id: 'OMN',
			value: data[4][choice]
		}
	];

	let mapFeatures = [
		{
			type: 'Feature',
			properties: {
				name: 'Bahrain'
			},
			geometry: {
				type: 'Polygon',
				coordinates: [ [ [ 50.565116, 25.803541 ], [ 50.587891, 25.821347 ] ] ]
			},
			id: 'BAH'
		},
		{
			type: 'Feature',
			properties: {
				name: 'Qatar'
			},
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[ 50.810108, 24.754743 ],
						[ 50.743911, 25.482424 ],
						[ 51.013352, 26.006992 ],
						[ 51.286462, 26.114582 ],
						[ 51.589079, 25.801113 ],
						[ 51.6067, 25.21567 ],
						[ 51.389608, 24.627386 ],
						[ 51.112415, 24.556331 ],
						[ 50.810108, 24.754743 ]
					]
				]
			},
			id: 'QAT'
		},
		{
			type: 'Feature',
			properties: {
				name: 'Saudi Arabia'
			},
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[ 42.779332, 16.347891 ],
						[ 42.649573, 16.774635 ],
						[ 42.347989, 17.075806 ],
						[ 42.270888, 17.474722 ],
						[ 41.754382, 17.833046 ],
						[ 41.221391, 18.6716 ],
						[ 40.939341, 19.486485 ],
						[ 40.247652, 20.174635 ],
						[ 39.801685, 20.338862 ],
						[ 39.139399, 21.291905 ],
						[ 39.023696, 21.986875 ],
						[ 39.066329, 22.579656 ],
						[ 38.492772, 23.688451 ],
						[ 38.02386, 24.078686 ],
						[ 37.483635, 24.285495 ],
						[ 37.154818, 24.858483 ],
						[ 37.209491, 25.084542 ],
						[ 36.931627, 25.602959 ],
						[ 36.639604, 25.826228 ],
						[ 36.249137, 26.570136 ],
						[ 35.640182, 27.37652 ],
						[ 35.130187, 28.063352 ],
						[ 34.632336, 28.058546 ],
						[ 34.787779, 28.607427 ],
						[ 34.83222, 28.957483 ],
						[ 34.956037, 29.356555 ],
						[ 36.068941, 29.197495 ],
						[ 36.501214, 29.505254 ],
						[ 36.740528, 29.865283 ],
						[ 37.503582, 30.003776 ],
						[ 37.66812, 30.338665 ],
						[ 37.998849, 30.5085 ],
						[ 37.002166, 31.508413 ],
						[ 39.004886, 32.010217 ],
						[ 39.195468, 32.161009 ],
						[ 40.399994, 31.889992 ],
						[ 41.889981, 31.190009 ],
						[ 44.709499, 29.178891 ],
						[ 46.568713, 29.099025 ],
						[ 47.459822, 29.002519 ],
						[ 47.708851, 28.526063 ],
						[ 48.416094, 28.552004 ],
						[ 48.807595, 27.689628 ],
						[ 49.299554, 27.461218 ],
						[ 49.470914, 27.109999 ],
						[ 50.152422, 26.689663 ],
						[ 50.212935, 26.277027 ],
						[ 50.113303, 25.943972 ],
						[ 50.239859, 25.60805 ],
						[ 50.527387, 25.327808 ],
						[ 50.660557, 24.999896 ],
						[ 50.810108, 24.754743 ],
						[ 51.112415, 24.556331 ],
						[ 51.389608, 24.627386 ],
						[ 51.579519, 24.245497 ],
						[ 51.617708, 24.014219 ],
						[ 52.000733, 23.001154 ],
						[ 55.006803, 22.496948 ],
						[ 55.208341, 22.70833 ],
						[ 55.666659, 22.000001 ],
						[ 54.999982, 19.999994 ],
						[ 52.00001, 19.000003 ],
						[ 49.116672, 18.616668 ],
						[ 48.183344, 18.166669 ],
						[ 47.466695, 17.116682 ],
						[ 47.000005, 16.949999 ],
						[ 46.749994, 17.283338 ],
						[ 46.366659, 17.233315 ],
						[ 45.399999, 17.333335 ],
						[ 45.216651, 17.433329 ],
						[ 44.062613, 17.410359 ],
						[ 43.791519, 17.319977 ],
						[ 43.380794, 17.579987 ],
						[ 43.115798, 17.08844 ],
						[ 43.218375, 16.66689 ],
						[ 42.779332, 16.347891 ]
					]
				]
			},
			id: 'SAU'
		},
		{
			type: 'Feature',
			properties: {
				name: 'Oman'
			},
			geometry: {
				type: 'MultiPolygon',
				coordinates: [
					[
						[
							[ 58.861141, 21.114035 ],
							[ 58.487986, 20.428986 ],
							[ 58.034318, 20.481437 ],
							[ 57.826373, 20.243002 ],
							[ 57.665762, 19.736005 ],
							[ 57.7887, 19.06757 ],
							[ 57.694391, 18.94471 ],
							[ 57.234264, 18.947991 ],
							[ 56.609651, 18.574267 ],
							[ 56.512189, 18.087113 ],
							[ 56.283521, 17.876067 ],
							[ 55.661492, 17.884128 ],
							[ 55.269939, 17.632309 ],
							[ 55.2749, 17.228354 ],
							[ 54.791002, 16.950697 ],
							[ 54.239253, 17.044981 ],
							[ 53.570508, 16.707663 ],
							[ 53.108573, 16.651051 ],
							[ 52.782184, 17.349742 ],
							[ 52.00001, 19.000003 ],
							[ 54.999982, 19.999994 ],
							[ 55.666659, 22.000001 ],
							[ 55.208341, 22.70833 ],
							[ 55.234489, 23.110993 ],
							[ 55.525841, 23.524869 ],
							[ 55.528632, 23.933604 ],
							[ 55.981214, 24.130543 ],
							[ 55.804119, 24.269604 ],
							[ 55.886233, 24.920831 ],
							[ 56.396847, 24.924732 ],
							[ 56.84514, 24.241673 ],
							[ 57.403453, 23.878594 ],
							[ 58.136948, 23.747931 ],
							[ 58.729211, 23.565668 ],
							[ 59.180502, 22.992395 ],
							[ 59.450098, 22.660271 ],
							[ 59.80806, 22.533612 ],
							[ 59.806148, 22.310525 ],
							[ 59.442191, 21.714541 ],
							[ 59.282408, 21.433886 ],
							[ 58.861141, 21.114035 ]
						]
					],
					[
						[
							[ 56.391421, 25.895991 ],
							[ 56.261042, 25.714606 ],
							[ 56.070821, 26.055464 ],
							[ 56.362017, 26.395934 ],
							[ 56.485679, 26.309118 ],
							[ 56.391421, 25.895991 ]
						]
					]
				]
			},
			id: 'OMN'
		},
		{
			type: 'Feature',
			properties: {
				name: 'United Arab Emirates'
			},
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[ 51.579519, 24.245497 ],
						[ 51.757441, 24.294073 ],
						[ 51.794389, 24.019826 ],
						[ 52.577081, 24.177439 ],
						[ 53.404007, 24.151317 ],
						[ 54.008001, 24.121758 ],
						[ 54.693024, 24.797892 ],
						[ 55.439025, 25.439145 ],
						[ 56.070821, 26.055464 ],
						[ 56.261042, 25.714606 ],
						[ 56.396847, 24.924732 ],
						[ 55.886233, 24.920831 ],
						[ 55.804119, 24.269604 ],
						[ 55.981214, 24.130543 ],
						[ 55.528632, 23.933604 ],
						[ 55.525841, 23.524869 ],
						[ 55.234489, 23.110993 ],
						[ 55.208341, 22.70833 ],
						[ 55.006803, 22.496948 ],
						[ 52.000733, 23.001154 ],
						[ 51.617708, 24.014219 ],
						[ 51.579519, 24.245497 ]
					]
				]
			},
			id: 'ARE'
		},
		{
			type: 'Feature',
			properties: {
				name: 'Kuwait'
			},
			geometry: {
				type: 'Polygon',
				coordinates: [
					[
						[ 47.974519, 29.975819 ],
						[ 48.183189, 29.534477 ],
						[ 48.093943, 29.306299 ],
						[ 48.416094, 28.552004 ],
						[ 47.708851, 28.526063 ],
						[ 47.459822, 29.002519 ],
						[ 46.568713, 29.099025 ],
						[ 47.302622, 30.05907 ],
						[ 47.974519, 29.975819 ]
					]
				]
			},
			id: 'KWT'
		}
	];

	return (
		<ResponsiveChoropleth
			data={info}
			features={mapFeatures}
			margin={{ top: 0, right: 0, bottom: 0, left: 0 }}
			colors="OrRd"
			domain={[
				Math.min(...data.map((element) => element[choice])),
				Math.max(...data.map((element) => element[choice]))
			]}
			unknownColor="#666666"
			label="properties.name"
			valueFormat=".2s"
			projectionScale={1400}
			projectionTranslation={[ -1.1, 1.92 ]}
			projectionRotation={[ 0, 0, 0 ]}
			enableGraticule={true}
			graticuleLineWidth={0}
			graticuleLineColor="#dddddd"
			borderWidth={0.5}
			borderColor="#152538"
			legends={[
				{
					anchor: 'bottom-left',
					direction: 'column',
					justify: true,
					translateX: 13,
					translateY: -50,
					itemsSpacing: 0,
					itemWidth: 96,
					itemHeight: 18,
					itemDirection: 'left-to-right',
					itemTextColor: '#444444',
					itemOpacity: 0.85,
					symbolSize: 19,
					effects: [
						{
							on: 'hover',
							style: {
								itemTextColor: '#000000',
								itemOpacity: 1
							}
						}
					]
				}
			]}
		/>
	);
};
